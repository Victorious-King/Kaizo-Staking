(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7116)}])},7116:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return X}});var r=n(5666),s=n.n(r),a=n(5893),i=function(){return(0,a.jsx)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"70",height:"45",viewBox:"0 0 99.000000 103.000000",preserveAspectRatio:"xMidYMid meet",children:(0,a.jsx)("g",{transform:"translate(0.000000,103.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none",children:(0,a.jsx)("path",{d:"M0 515 l0 -515 495 0 495 0 0 515 0 515 -495 0 -495 0 0 -515z m504 173 c6 -32 0 -52 -14 -43 -31 19 -110 -138 -110 -218 0 -49 14 -63 32 -35 23 35 66 138 78 187 6 23 13 41 16 38 7 -7 7 -86 0 -147 l-6 -55 13 40 c14 41 67 126 67 108 0 -6 -7 -30 -15 -53 -19 -54 -32 -180 -18 -180 14 0 39 84 58 188 26 146 26 134 -6 130 -16 -3 -29 0 -29 4 0 5 -7 17 -16 26 -16 15 -15 17 12 29 62 26 163 9 122 -21 -9 -7 -21 -56 -32 -136 -25 -172 -64 -290 -96 -290 -16 0 -60 89 -60 122 0 31 -2 30 -30 -28 -32 -66 -58 -87 -75 -58 -5 9 -21 33 -34 53 -21 30 -25 48 -24 106 0 105 55 233 112 261 32 16 48 9 55 -28z m343 -14 c3 -29 1 -35 -11 -31 -22 9 -71 -52 -89 -110 -22 -69 -29 -126 -17 -143 9 -13 13 -11 30 10 11 14 20 28 20 32 0 4 11 31 24 60 13 29 27 71 31 93 l8 40 10 -29 c21 -62 -30 -266 -77 -305 -19 -16 -43 -4 -56 27 -6 15 -17 38 -25 52 -47 81 19 311 99 345 37 16 48 8 53 -41z m-556 13 c71 -48 63 -139 -23 -264 -45 -65 -111 -133 -128 -133 -3 0 -4 52 -3 115 5 155 41 255 72 197 7 -14 1 -45 -25 -127 -19 -59 -32 -110 -30 -113 8 -7 123 175 136 213 7 20 9 47 6 61 -5 20 -13 24 -41 24 -18 0 -45 -4 -59 -10 -51 -19 -84 20 -38 44 40 22 94 19 133 -7z"})})})},c=n(2142),l=n(3778),o=n(5574),d=(n(9499),n(8878)),u=n.n(d),h=n(4155);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,s=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){s=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(s)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var m=function(e){var t=function(e){return Number.parseFloat(e.toPrecision(3))},n={24:"Y",21:"Z",18:"E",15:"P",12:"T",9:"G",6:"M",3:"k",0:"","-3":"m","-6":"\xb5","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y"};return function(e){var r=t(Number.parseFloat(e)),s=Math.max(Math.min(3*Math.floor(function(e){return 0===e?0:Math.floor(Math.log10(Math.abs(e)))}(r)/3),24),-24);return t(r/Math.pow(10,s)).toString()+n[s]}(e)},f=function(e,t,n){var r=void 0===t?18:t,s=void 0===n?8:n;if(!e)return"0";var a=(Number(e)/Math.pow(10,r)).toFixed(s),i=x(parseFloat(a).toString().split("."),2),c=i[0],l=i[1];if("0"===c)return l?"".concat(c,".").concat(l.substring(0,s-1)):"".concat(c);if(c.length>s){var o=s-c.length,d=c.replace(/\B(?=(\d{3})+(?!\d))/g,",");return l&&o>0?"".concat(d,".").concat(l.substring(0,o)):"".concat(d)}var u=c.replace(/\B(?=(\d{3})+(?!\d))/g,",");return l?"".concat(u,".").concat(l):u},p=function(e,t,n){var r=void 0===n?{}:n;if(!e)return void 0===t?"":t;if(e.includes("://")){var s=x(e.split("://"),2),a=s[0],i=s[1];if("ipfs"===a){if(r.useOriginal||"production"!==h.env.APP_ENV)return 0===new(u())(i).version?"https://ipfs-gateway.paras.id/ipfs/".concat(i):"https://ipfs.fleek.co/ipfs/".concat(i);var c=[];return r.width?c.push("tr:w-".concat(r.width)):c.push("tr:w-0.8"),"https://cdn.paras.id/".concat(c.join(","),"/").concat(i)}return e}try{var l=new(u())(e);if(r.useOriginal||"production"!==h.env.APP_ENV){if(0===l.version)return"https://ipfs-gateway.paras.id/ipfs/".concat(l);if(1===l.version)return"https://ipfs.fleek.co/ipfs/".concat(l)}var o=[];return r.width?o.push("tr:w-".concat(r.width)):o.push("tr:w-0.8"),"https://paras-cdn.imgix.net/".concat(l,"?q=60")}catch(d){return e}},v=function(e,t,n){var r=void 0===e?"":e,s=void 0===t?8:t;if(r&&r.length>s){if("address"===n){var a=Math.ceil(s/2),i=r.length-(s-a);return"".concat(r.slice(0,a),"...").concat(r.slice(i))}return"".concat(r.slice(0,s),"...")}return r},w=function(e){var t=e.show,n=e.profile,r=e.onClose;return(0,a.jsx)(l.Z,{isShow:t,onClose:r,children:(0,a.jsxs)("div",{className:"bg-parasGrey text-white shadow-xl w-full p-4 rounded-md m-auto max-w-xs text-center",children:[(0,a.jsx)("p",{className:"font-bold text-xl mb-3",children:"Account"}),(0,a.jsx)("div",{className:"w-20 h-20 rounded-full mx-auto",children:n.imgUrl&&(0,a.jsx)("img",{className:"w-20 h-20 border border-gray-600 rounded-full mx-auto",src:p(n.imgUrl),alt:"profile-image"})}),(0,a.jsx)("p",{className:"mt-4 opacity-90 text-lg font-semibold",children:v(n.accountId,24,"address")}),(0,a.jsx)("div",{className:"flex justify-between items-center mt-4",children:(0,a.jsx)(c.Z,{isFullWidth:!0,onClick:function(){return o.ZP.signOut()},children:"Logout"})})]})})},j=n(8627),g=n(7294);function N(e,t,n,r,s,a,i){try{var c=e[a](i),l=c.value}catch(o){return void n(o)}c.done?t(l):Promise.resolve(l).then(r,s)}var y=[{exchange:"Ref Finance",url:"https://app.ref.finance/#dac17f958d2ee523a2206206994597c13d831ec7.factory.bridge.near|wrap.near"}],b=function(){var e=(0,g.useRef)(null),t=(0,j.xp)().accountId,n=(0,g.useState)("0"),r=n[0],l=n[1],d=(0,g.useState)({}),u=d[0],h=(d[1],(0,g.useState)(!1)),x=h[0],m=h[1],p=(0,g.useState)(!1),b=p[0],k=p[1];(0,g.useEffect)((function(){var e,n=(e=s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.nearViewFunction({methodName:"ft_balance_of",contractName:o.l$.TOKEN,args:{account_id:o.ZP.wallet.getAccountId()}});case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function i(e){N(a,r,s,i,c,"next",e)}function c(e){N(a,r,s,i,c,"throw",e)}i(void 0)}))});t&&n()}),[t]);var F=function(){return(0,a.jsxs)("div",{onClick:function(){return m(!0)},className:"hover:opacity-80 cursor-pointer flex items-center rounded-md overflow-hidden py-1 bg-gray-800",children:[(0,a.jsx)("div",{className:"text-white px-2",children:(0,a.jsxs)("p",{children:[f(r,18,4)," $Dojo"]})}),(0,a.jsx)("div",{className:"px-1",children:(0,a.jsxs)("div",{className:"flex items-center bg-black bg-opacity-80 rounded-md px-2 py-1",children:[(0,a.jsx)("p",{className:"pr-2 text-gray-300 font-semibold",children:v(t,16,"address")}),(0,a.jsx)("div",{className:"w-6 h-6 rounded-full bg-parasGrey"})]})})]})};return(0,g.useEffect)((function(){var t=function(t){b&&e.current&&!e.current.contains(t.target)&&k(!1)};return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[b]),(0,a.jsxs)("div",{className:"sticky top-0 z-50 bg-gray-900",children:[(0,a.jsx)(w,{show:x,onClose:function(){return m(!1)},profile:u}),(0,a.jsxs)("div",{className:"flex items-center p-4 max-w-6xl mx-auto justify-between",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"w-24",children:(0,a.jsx)(i,{})})}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(c.Z,{onClick:function(){k(!b)},className:"flex items-center px-4",children:[(0,a.jsx)("span",{className:"pr-1",children:"Trade $DOJOs"}),(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.293 7.29291L20.7072 8.70712L12.0001 17.4142L3.29297 8.70712L4.70718 7.29291L12.0001 14.5858L19.293 7.29291Z",fill:"white"})})]}),b&&(0,a.jsx)("div",{ref:e,className:"flex flex-col absolute w-full rounded-md mt-2 overflow-hidden bg-gray-700",children:y.map((function(e,t){return(0,a.jsxs)("a",{className:"flex text-white py-2 px-4 bg-gray-800 hover:bg-opacity-50 text-sm",target:"_blank",href:e.url,children:[e.exchange,(0,a.jsx)("span",{className:"pl-1",children:(0,a.jsx)("svg",{width:"8",height:"8",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.70421 9.70711L13.9971 3.41421V7H15.9971V0H8.9971V2H12.5829L6.28999 8.29289L7.70421 9.70711ZM15 14V10H13V14H2V3H6V1H2C0.89543 1 0 1.89543 0 3V14C0 15.1046 0.89543 16 2 16H13C14.1046 16 15 15.1046 15 14Z",fill:"white"})})})]},t)}))})]}),(0,a.jsx)("div",{className:"ml-4 hidden md:inline-block",children:t?(0,a.jsx)("div",{children:(0,a.jsx)(F,{})}):(0,a.jsx)(c.Z,{className:"px-4",onClick:function(){return o.ZP.signIn()},children:"Login with NEAR"})})]})]}),t?(0,a.jsx)("div",{className:"fixed z-10 bottom-0 left-0 right-0 p-4 bg-gray-900 md:hidden",children:(0,a.jsx)("div",{className:"flex justify-center items-center",children:(0,a.jsx)(F,{})})}):(0,a.jsx)("div",{className:"fixed z-10 bottom-0 left-0 right-0 p-4 bg-gray-900 md:hidden",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(c.Z,{className:"px-4",onClick:function(){return o.ZP.signIn()},children:"Login with NEAR"})})})]})},k=n(9008),F=function(e){var t=e.title,n=void 0===t?"Kaizo NFT Staking":t,r=e.description,s=void 0===r?"Stake your $Kaizo Fighters and earn rewards with $Dojo":r,i=e.image,c=void 0===i?"":i,l=e.url,o=void 0===l?"http://localhost:3000":l,d=e.keywords,u=void 0===d?"stake, blockchain, near, kaizo":d,h="Kaizo NFT Staking"===n?"Kaizo NFT Staking":"".concat(n," - Kaizo NFT Staking");return(0,a.jsxs)(k.default,{children:[(0,a.jsx)("title",{children:h}),(0,a.jsx)("meta",{name:"title",content:h}),(0,a.jsx)("meta",{name:"description",content:s}),(0,a.jsx)("meta",{property:"og:type",content:"website"}),(0,a.jsx)("meta",{property:"og:url",content:o}),(0,a.jsx)("meta",{property:"og:title",content:h}),(0,a.jsx)("meta",{property:"og:description",content:s}),(0,a.jsx)("meta",{property:"og:image",content:c}),(0,a.jsx)("meta",{name:"keywords",content:u}),(0,a.jsx)("meta",{name:"robots",content:"index, follow"}),(0,a.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{property:"twitter:url",content:o}),(0,a.jsx)("meta",{property:"twitter:title",content:h}),(0,a.jsx)("meta",{property:"twitter:description",content:s}),(0,a.jsx)("meta",{property:"twitter:image",content:c})]})},P=n(1591),_=n(4561);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){return(0,a.jsxs)(_.ZP,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){C(e,t,n[t])}))}return e}({speed:2,width:"100%",height:"100%",viewBox:"0 0 352 500",backgroundColor:"#576585",foregroundColor:"#2b3653",opacity:"0.15"},e,{children:[(0,a.jsx)("rect",{x:"26",y:"26",rx:"4",ry:"4",width:"300",height:"120"}),(0,a.jsx)("rect",{x:"26",y:"170",rx:"4",ry:"4",width:"300",height:"300"}),(0,a.jsx)("rect",{x:"0",y:"0",rx:"6",ry:"6",width:"6",height:"100%"}),(0,a.jsx)("rect",{x:"0",y:"0",rx:"6",ry:"6",width:"100%",height:"6"}),(0,a.jsx)("rect",{x:"0",y:"494",rx:"6",ry:"6",width:"100%",height:"6"}),(0,a.jsx)("rect",{x:"346",y:"0",rx:"6",ry:"6",width:"6",height:"100%"})]}))},S=n(1827),R=n(9669),T=n.n(R),Z=n(6120),z=n.n(Z);function A(e,t,n,r,s,a,i){try{var c=e[a](i),l=c.value}catch(o){return void n(o)}c.done?t(l):Promise.resolve(l).then(r,s)}var E=function(e){var t=e.className,n=void 0===t?"":t,r=e.url,i=void 0===r?"":r,c=e.videoControls,l=void 0!==c&&c,o=e.videoMuted,d=void 0===o||o,u=e.videoLoop,h=void 0!==u&&u,x=(0,g.useState)(null),m=x[0],f=x[1],v=(0,g.useState)(!0),w=v[0],j=v[1];(0,g.useEffect)((function(){i?y():j(!1)}),[i]);var N,y=(N=s().mark((function e(){var t,n,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T().get("".concat(p(i)),{responseType:"arraybuffer"});case 3:return t=e.sent,e.next=6,z()(new Uint8Array(t.data));case 6:n=e.sent,r=n.map((function(e){return e.mime||""})),a=URL.createObjectURL(new Blob([t.data])),f({type:r[0],url:a}),j(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),f({type:"image/jpg",url:p(i)}),j(!1);case 18:case"end":return e.stop()}}),e,null,[[0,13]])})),function(){var e=this,t=arguments;return new Promise((function(n,r){var s=N.apply(e,t);function a(e){A(s,n,r,a,i,"next",e)}function i(e){A(s,n,r,a,i,"throw",e)}a(void 0)}))});return w?(0,a.jsx)("div",{className:n,children:(0,a.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,a.jsxs)("svg",{className:"animate-spin m h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}):(null===m||void 0===m?void 0:m.type.includes("image"))?(0,a.jsx)("div",{className:n,children:(0,a.jsx)("img",{className:"object-contain w-full h-full",src:m.url})}):(null===m||void 0===m?void 0:m.type.includes("video"))?(0,a.jsx)("video",{className:"w-full h-full ".concat(n),autoPlay:!0,playsInline:!0,loop:h,controls:l,muted:d,children:(0,a.jsx)("source",{type:"video/mp4",src:m.url})}):(null===m||void 0===m?void 0:m.type)?(0,a.jsx)("div",{className:n,children:(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)("p",{children:"Media not supported"})})}):null},$=function(e){var t=e.token,n=e.stakeNFT,r=e.type,s=(e.point,"https://paras.id/token/".concat(o.l$.FARM,":").concat(t.token_id,"/").concat(t.token_id));"https://paras.id/collection/".concat(o.l$.FARM);return(0,a.jsxs)("div",{className:"flex justify-between mb-4 md:mb-0 p-3 border-2 border-borderGray rounded-xl h-[11rem] shadow-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"w-1/2 pr-4",children:(0,a.jsx)("div",{className:"w-full h-full",children:(0,a.jsx)(E,{url:"https://nearnaut.mypinata.cloud/ipfs/"+t.metadata.media,videoControls:!1,videoMuted:!0,videoLoop:!0,className:"w-full h-full object-contain"})})}),(0,a.jsxs)("div",{className:"w-1/2 m-auto",children:[(0,a.jsx)("div",{className:"overflow-ellipsis truncate",children:(0,a.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",children:(0,a.jsx)("p",{className:"font-bold text-lg hover:opacity-80 inline",children:t.metadata.title})})}),(0,a.jsx)(c.Z,{className:"px-6 mt-4",size:"md",color:"stake"===r?"blue":"blue-gray",onClick:function(){return n(t.token_id)},children:"stake"===r?"Stake":"Unstake"})]})]})},I=function(){return(0,a.jsx)("svg",{width:"16",height:"15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M15 6.001H3.14l3.63-4.36A1.001 1.001 0 105.23.361l-5 6a1.19 1.19 0 00-.09.15c0 .05 0 .08-.07.13a1 1 0 00-.07.36 1 1 0 00.07.36c0 .05 0 .08.07.13.026.052.056.103.09.15l5 6a1 1 0 001.41.13 1.001 1.001 0 00.13-1.41l-3.63-4.36H15a1 1 0 100-2z",fill:"#fff"})})};function L(e,t,n,r,s,a,i){try{var c=e[a](i),l=c.value}catch(o){return void n(o)}c.done?t(l):Promise.resolve(l).then(r,s)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function i(e){L(a,r,s,i,c,"next",e)}function c(e){L(a,r,s,i,c,"throw",e)}i(void 0)}))}}var V=function(e){var t=(0,g.useState)([]),n=t[0],r=t[1],i=(0,g.useState)(!1),c=i[0],d=i[1],u=(0,g.useState)(!1),h=(u[0],u[1],(0,j.xp)().accountId);(0,g.useEffect)((function(){var t=O(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0===n.length&&d(!0),e.prev=1,e.next=4,o.ZP.nearViewFunction({contractName:o.l$.WRAP,methodName:"nft_tokens_for_owner",args:{account_id:h,limit:50}});case 4:t=e.sent,r(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:d(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));e.show&&h&&t()}),[e.show,h,n.length]);var x=O(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=[]).push({receiverId:o.l$.WRAP,functionCalls:[{methodName:"nft_transfer_call",contractId:o.l$.WRAP,args:{receiver_id:o.l$.FARM,token_id:t,msg:""},attachedDeposit:(0,o.Bg)("1"),gas:(0,o.Bg)(P.e[150])}]}),e.next=5,o.ZP.executeMultipleTransactions(n);case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(l.Z,{isShow:e.show,onClose:e.onClose,children:(0,a.jsxs)("div",{className:"max-w-sm md:max-w-2xl w-full bg-parasGrey p-4 rounded-lg m-auto shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("div",{className:"w-1/5",children:(0,a.jsx)("div",{className:"inline-block cursor-pointer",onClick:e.onClose,children:(0,a.jsx)(I,{})})}),(0,a.jsxs)("div",{className:"w-3/5 flex-1 text-center",children:[(0,a.jsx)("p",{className:"font-bold text-xl text-white",children:"Stake NFT"}),(0,a.jsx)("p",{className:"text-white text-sm -mt-1",children:e.title})]}),(0,a.jsx)("div",{className:"w-1/5 text-right"})]}),c?(0,a.jsx)("div",{className:"mt-4 w-full h-[50vh] md:h-[60vh] flex flex-col items-center justify-center",children:(0,a.jsx)(S.q,{width:20,className:"mb-4 opacity-50"})}):(0,a.jsx)("div",{className:"mt-4 h-[50vh] md:h-[60vh] overflow-y-scroll no-scrollbar",children:0!==n.length?(0,a.jsx)("div",{className:"md:grid md:grid-cols-2 md:gap-4",children:n.map((function(e){return(0,a.jsx)($,{token:e,stakeNFT:x,type:"stake",point:"123"},e.token_id)}))}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center px-4 text-center",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"You don't have any Kaizo NFT"}),(0,a.jsx)("a",{className:"font-bold text-white opacity-100 border-b-2 border-transparent hover:border-gray-100",href:"https://paras.id/collection/kaizofighters.tenk.near",target:"_blank",children:"Buy NFT on Paras Marketplace"})]})})})]})})})};function B(e,t,n,r,s,a,i){try{var c=e[a](i),l=c.value}catch(o){return void n(o)}c.done?t(l):Promise.resolve(l).then(r,s)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function i(e){B(a,r,s,i,c,"next",e)}function c(e){B(a,r,s,i,c,"throw",e)}i(void 0)}))}}var D=function(e){var t=(0,g.useState)([]),n=t[0],r=t[1],i=(0,g.useState)(!1),c=i[0],d=i[1],u=(0,j.xp)().accountId;(0,g.useEffect)((function(){var t=K(s().mark((function t(){var a,i,c,l,h,x,m,f;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===n.length&&d(!0),!u){t.next=31;break}[],a=[],i=!0,c=!1,l=void 0,t.prev=5,h=e.nftPoints[Symbol.iterator]();case 7:if(i=(x=h.next()).done){t.next=16;break}return m=x.value,t.next=11,o.ZP.nearViewFunction({contractName:o.l$.WRAP,methodName:"nft_token",args:{token_id:m}});case 11:f=t.sent,a.push(f);case 13:i=!0,t.next=7;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(5),c=!0,l=t.t0;case 22:t.prev=22,t.prev=23,i||null==h.return||h.return();case 25:if(t.prev=25,!c){t.next=28;break}throw l;case 28:return t.finish(25);case 29:return t.finish(22);case 30:r(a);case 31:d(!1);case 32:case"end":return t.stop()}}),t,null,[[5,18,22,30],[23,,25,29]])})));e.show&&t()}),[u,e.show,n.length]);var h=K(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=[]).push({receiverId:o.l$.FARM,functionCalls:[{methodName:"unstake",contractId:o.l$.FARM,args:{token_id:t},attachedDeposit:(0,o.Bg)("1"),gas:(0,o.Bg)(P.e[150])}]}),e.next=5,o.ZP.executeMultipleTransactions(n);case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return(0,a.jsx)(l.Z,{isShow:e.show,onClose:e.onClose,children:(0,a.jsxs)("div",{className:"max-w-sm md:max-w-2xl w-full bg-parasGrey p-4 rounded-lg m-auto shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("div",{className:"w-1/5",children:(0,a.jsx)("div",{className:"inline-block cursor-pointer",onClick:e.onClose,children:(0,a.jsx)(I,{})})}),(0,a.jsxs)("div",{className:"w-3/5 flex-1 text-center",children:[(0,a.jsx)("p",{className:"font-bold text-xl text-white",children:"Unstake NFT"}),(0,a.jsx)("p",{className:"text-white text-sm -mt-1",children:e.title})]}),(0,a.jsx)("div",{className:"w-1/5"})]}),c?(0,a.jsx)("div",{className:"mt-4 w-full h-[50vh] md:h-[60vh] flex flex-col items-center justify-center",children:(0,a.jsx)(S.q,{width:20,className:"mb-4 opacity-50"})}):(0,a.jsx)("div",{className:"mt-4 h-[50vh] md:h-[60vh] overflow-y-scroll no-scrollbar",children:0!==n.length?(0,a.jsx)("div",{className:"md:grid md:grid-cols-2 md:gap-4",children:n.map((function(e){return(0,a.jsx)($,{token:e,stakeNFT:h,type:"unstake",point:"123"},e.token_id)}))}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center px-4 text-center",children:(0,a.jsx)("p",{children:"You haven't staked any NFT"})})})]})})},H=n(8735);function W(e,t,n,r,s,a,i){try{var c=e[a](i),l=c.value}catch(o){return void n(o)}c.done?t(l):Promise.resolve(l).then(r,s)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function i(e){W(a,r,s,i,c,"next",e)}function c(e){W(a,r,s,i,c,"throw",e)}i(void 0)}))}}var G=function(e){var t=e.data,n=(e.staked,e.stakedNFT),r=e.type,i=(0,j.xp)(),l=i.accountId,d=i.setCommonModal,u=(0,g.useState)(null),h=u[0],x=u[1],f=(0,g.useState)(null),p=f[0],v=f[1],w=(0,g.useState)(null),N=(w[0],w[1],(0,g.useCallback)(U(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.nearViewFunction({contractName:o.l$.FARM,methodName:"get_status",args:{}});case 2:return t=e.sent,e.next=5,o.ZP.nearViewFunction({contractName:o.l$.FARM,methodName:"get_reward",args:{from:l}});case 5:r=e.sent,3,x({title:"Kaizo Fighers",media:"https://ipfs.fleek.co/ipfs/bafkreibp4kzksqsasgfrku4xabbig5fhqyaszktaql2knlfia3mus5mjcy",totalStaked:t,rewards:3,claimableRewards:3*r+1,nftPoints:n});case 9:case"end":return e.stop()}}),e)}))),[t.title,l])),y=U(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return(t=[]).push({receiverId:o.l$.FARM,functionCalls:[{methodName:"claim",contractId:o.l$.FARM,args:{},attachedDeposit:(0,o.Bg)("1"),gas:(0,o.Bg)(P.e[150])}]}),e.next=6,o.ZP.executeMultipleTransactions(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),b=function(e){l?v(e):d("login")};return(0,g.useEffect)((function(){null!=l&&N()}),[N]),h?(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("div",{className:"bg-parasGrey text-white rounded-xl overflow-hidden shadow-xl",children:[(0,a.jsx)(H.Z,{html:!0}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(V,{nftPoints:h&&h.nftPoints?h.nftPoints:[],claimableRewards:h?h.claimableRewards:0,title:t.title,show:"stakeNFT"===p,onClose:function(){return v(null)}}),(0,a.jsx)(D,{nftPoints:h&&h.nftPoints?h.nftPoints:[],claimableRewards:h?h.claimableRewards:0,title:t.title,show:"unstakeNFT"===p,onClose:function(){return v(null)}})]}),(0,a.jsxs)("div",{className:"bg-center bg-no-repeat bg-black bg-opacity-40 p-4 relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-20",children:(0,a.jsx)("div",{className:"text-center h-full overflow-hidden",children:h.media&&(0,a.jsx)("img",{className:"w-full h-full",alt:h.title,src:h.media})})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-center",children:h.title}),(0,a.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"opacity-75",children:"Total Staked"}),"nft"===r&&(0,a.jsxs)("p",{className:"text-4xl font-semibold",children:[m(h.totalStaked)," Kaizos"]})]}),(0,a.jsx)("div",{className:"text-right"})]})]})]}),(0,a.jsxs)("div",{className:"px-4 pb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("div",{className:"flex justify-between"})}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"opacity-75",children:"Reward per Week"})}),(0,a.jsx)("div",{className:"flex flex-col items-end",children:(0,a.jsxs)("p",{children:[h.rewards," $Dojo"]})})]}),"nft"===r&&(0,a.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"opacity-75",children:"Your Staked NFTs"})}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("p",{children:[n?"".concat(n.length," Kaizos"):"-"," "]})})]})]}),(0,a.jsx)("div",{className:"mt-4",children:"nft"===r&&(0,a.jsxs)("div",{className:"flex justify-between -mx-4",children:[(0,a.jsx)("div",{className:"w-1/2 px-4",children:(0,a.jsx)(c.Z,{isFullWidth:!0,className:"",onClick:function(){return b("stakeNFT")},children:"Stake NFT"})}),(0,a.jsx)("div",{className:"w-1/2 px-4 text-right",children:(0,a.jsx)(c.Z,{isFullWidth:!0,color:"blue-gray",onClick:function(){return b("unstakeNFT")},children:"Unstake NFT"})})]})})]}),l&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center p-2 bg-black bg-opacity-60 rounded-md overflow-hidden",children:[(0,a.jsxs)("div",{className:"w-2/3",children:[(0,a.jsx)("p",{className:"opacity-75",children:"Claimable Rewards"}),(0,a.jsxs)("p",{children:[h.claimableRewards," Dojo"]})]}),(0,a.jsx)("div",{className:"w-1/3",children:(0,a.jsx)(c.Z,{isDisabled:Number(h.claimableRewards)<=0,isFullWidth:!0,color:"green",onClick:y,children:"Claim"})})]})})]})]})}):(0,a.jsx)(M,{})};function q(e,t,n,r,s,a,i){try{var c=e[a](i),l=c.value}catch(o){return void n(o)}c.done?t(l):Promise.resolve(l).then(r,s)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function i(e){q(a,r,s,i,c,"next",e)}function c(e){q(a,r,s,i,c,"throw",e)}i(void 0)}))}}var X=function(){var e=(0,j.xp)(),t=e.isInit,n=e.accountId,r=(0,g.useState)({title:"Kaizo Fighters",media:"123"}),i=r[0],c=r[1],l=(0,g.useState)([]),d=l[0],u=l[1];return(0,g.useEffect)((function(){var e=Y(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c({title:"Kaizo Fighters",media:"123"});case 2:case"end":return e.stop()}}),e)})));t&&e()}),[t]),(0,g.useEffect)((function(){var e=Y(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ZP.nearViewFunction({contractName:o.l$.FARM,methodName:"get_amount_by_owner",args:{account_id:n}});case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));n&&e()}),[n]),i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F,{}),(0,a.jsxs)("div",{className:"bg-gray-900 min-h-screen pb-16 lg:pb-0",children:[(0,a.jsx)(b,{}),(0,a.jsx)("div",{className:"mt-4 max-w-6xl mx-auto",style:{backgroundImage:"url(./Dojo_background.png)"},children:(0,a.jsxs)("div",{className:"md:max-w-md mx-auto p-4",children:[(0,a.jsx)(G,{type:"nft",data:i,stakedNFT:d}),(0,a.jsxs)("p",{className:"text-white text-center text-sm mt-3",children:[(0,a.jsx)("span",{className:"opacity-80",children:"Buy Kaizo NFTs on "}),(0,a.jsx)("a",{className:"font-bold text-white opacity-100 border-b-2 border-transparent hover:border-gray-100",href:"https://paras.id/collection/kaizofighters.tenk.near",target:"_blank",children:"Paras Marketplace"})]})]})})]})]}):(0,a.jsx)("div",{children:(0,a.jsx)(S.Z,{isLoading:!0})})}}},function(e){e.O(0,[774,218,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);